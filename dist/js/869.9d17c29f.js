"use strict";(self["webpackChunksaltmate_app"]=self["webpackChunksaltmate_app"]||[]).push([[869],{8869:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var s=a(6768),n=a(4232);const l={class:"my-investments-page"},r={class:"content-wrapper"},o={key:0,class:"loading-state"},u={key:1,class:"error-state"},i={class:"error-message"},c={key:2,class:"no-investments-state"},v={key:3,class:"investments-display"},d={class:"investment-summary card glassmorphism"},p={class:"summary-grid"},m={class:"summary-item"},k={class:"value"},L={class:"summary-item"},g={class:"value"},f={class:"summary-item"},y={class:"summary-item"},D={class:"value"},h={class:"investment-list"},R={class:"investment-cards"},w={class:"card-header"},_={class:"product-name"},b={class:"card-body"},C={class:"info-row"},E={class:"info-value"},x={class:"info-row"},I={class:"info-value"},S={class:"info-row"},H={class:"info-row"},X={class:"info-value"},V={key:0,class:"info-row"},A={class:"info-value"},W={key:1,class:"progress-section"},K={class:"info-label"},F={class:"progress-bar-container"},N={key:2,class:"payout-info"},P={class:"info-label"},Q={class:"info-value"},T={class:"card-footer"};function G(e,t,a,G,M,j){const J=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",l,[t[16]||(t[16]=(0,s.Lk)("header",{class:"page-header"},[(0,s.Lk)("h1",null,"💰 내 투자 현황"),(0,s.Lk)("p",{class:"description"}," 솔트메이트와 함께하는 당신의 소금 투자 여정을 한눈에 확인하세요. ")],-1)),(0,s.Lk)("main",r,[G.loading?((0,s.uX)(),(0,s.CE)("div",o,t[1]||(t[1]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"투자 정보를 불러오는 중입니다...",-1)]))):G.error?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("p",i," 😔 투자 정보를 불러오는 데 실패했습니다: "+(0,n.v_)(G.error),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>G.fetchInvestments&&G.fetchInvestments(...e)),class:"retry-button"}," 다시 시도 ")])):0===G.investments.length?((0,s.uX)(),(0,s.CE)("div",c,[t[3]||(t[3]=(0,s.Lk)("p",null," 아직 참여한 투자 상품이 없습니다. 지금 바로 새로운 기회를 찾아보세요! ",-1)),(0,s.bF)(J,{to:"/shop",class:"explore-button"},{default:(0,s.k6)(()=>t[2]||(t[2]=[(0,s.eW)("새로운 투자 상품 탐색하기",-1)])),_:1,__:[2]})])):((0,s.uX)(),(0,s.CE)("div",v,[(0,s.Lk)("section",d,[t[8]||(t[8]=(0,s.Lk)("h2",null,"📊 나의 총 투자 요약",-1)),(0,s.Lk)("div",p,[(0,s.Lk)("div",m,[t[4]||(t[4]=(0,s.Lk)("span",{class:"label"},"총 투자 금액",-1)),(0,s.Lk)("span",k,(0,n.v_)(G.totalInvested.toLocaleString())+" 원",1)]),(0,s.Lk)("div",L,[t[5]||(t[5]=(0,s.Lk)("span",{class:"label"},"현재 가치",-1)),(0,s.Lk)("span",g,(0,n.v_)(G.totalCurrentValue.toLocaleString())+" 원",1)]),(0,s.Lk)("div",f,[t[6]||(t[6]=(0,s.Lk)("span",{class:"label"},"총 수익률",-1)),(0,s.Lk)("span",{class:(0,n.C4)(["value",G.overallReturnRateClass])},(0,n.v_)(G.overallReturnRate.toFixed(2))+" %",3)]),(0,s.Lk)("div",y,[t[7]||(t[7]=(0,s.Lk)("span",{class:"label"},"총 예상 수익",-1)),(0,s.Lk)("span",D,(0,n.v_)(G.totalExpectedProfit.toLocaleString())+" 원",1)])])]),(0,s.Lk)("section",h,[t[15]||(t[15]=(0,s.Lk)("h2",null,"✨ 나의 투자 상품",-1)),(0,s.Lk)("div",R,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(G.investments,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"investment-card card glassmorphism"},[(0,s.Lk)("div",w,[(0,s.Lk)("h3",_,(0,n.v_)(e.productName),1),(0,s.Lk)("span",{class:(0,n.C4)(["status-badge",e.status])},(0,n.v_)(G.getStatusText(e.status)),3)]),(0,s.Lk)("div",b,[(0,s.Lk)("div",C,[t[9]||(t[9]=(0,s.Lk)("span",{class:"info-label"},"투자 금액",-1)),(0,s.Lk)("span",E,(0,n.v_)(e.investedAmount.toLocaleString())+" 원",1)]),(0,s.Lk)("div",x,[t[10]||(t[10]=(0,s.Lk)("span",{class:"info-label"},"현재 가치",-1)),(0,s.Lk)("span",I,(0,n.v_)(e.currentValue.toLocaleString())+" 원",1)]),(0,s.Lk)("div",S,[t[11]||(t[11]=(0,s.Lk)("span",{class:"info-label"},"수익률",-1)),(0,s.Lk)("span",{class:(0,n.C4)(["info-value",G.getReturnRateClass(e.returnRate)])},(0,n.v_)(e.returnRate.toFixed(2))+" % ",3)]),(0,s.Lk)("div",H,[t[12]||(t[12]=(0,s.Lk)("span",{class:"info-label"},"투자일",-1)),(0,s.Lk)("span",X,(0,n.v_)(G.formatDate(e.investmentDate)),1)]),e.expectedReturnDate?((0,s.uX)(),(0,s.CE)("div",V,[t[13]||(t[13]=(0,s.Lk)("span",{class:"info-label"},"예상 회수일",-1)),(0,s.Lk)("span",A,(0,n.v_)(G.formatDate(e.expectedReturnDate)),1)])):(0,s.Q3)("",!0),void 0!==e.progress?((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("span",K,"진행도 ("+(0,n.v_)(e.progress)+"%)",1),(0,s.Lk)("div",F,[(0,s.Lk)("div",{class:"progress-bar",style:(0,n.Tr)({width:e.progress+"%"})},null,4)])])):(0,s.Q3)("",!0),e.payoutHistory&&e.payoutHistory.length>0?((0,s.uX)(),(0,s.CE)("div",N,[(0,s.Lk)("span",P,"최근 배당: "+(0,n.v_)(e.payoutHistory[e.payoutHistory.length-1].amount.toLocaleString())+"원",1),(0,s.Lk)("span",Q,"("+(0,n.v_)(G.formatDate(e.payoutHistory[e.payoutHistory.length-1].date))+")",1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",T,[(0,s.bF)(J,{to:`/investment-detail/${e.id}`,class:"detail-button"},{default:(0,s.k6)(()=>t[14]||(t[14]=[(0,s.eW)(" 상세 보기 ",-1),(0,s.Lk)("i",{class:"fas fa-chevron-right"},null,-1)])),_:2,__:[14]},1032,["to"])])]))),128))])])]))])])}a(4114),a(8111),a(7588),a(8237);var M=a(144),j=a(1387),J=a(5328),U=a(4388),$=a(2832),q={name:"MyInvestmentsPage",setup(){const e=(0,j.rd)(),t=(0,M.KR)([]),a=(0,M.KR)(!0),n=(0,M.KR)(null),l=e=>[{id:"inv001",userId:e,productName:"솔트팜 1호 생산 투자",investedAmount:1e6,currentValue:105e4,returnRate:5,status:"active",investmentDate:new Date("2024-01-15"),expectedReturnDate:new Date("2025-01-15"),progress:75,payoutHistory:[{amount:1e4,date:new Date("2024-04-15")},{amount:1e4,date:new Date("2024-07-15")}]},{id:"inv002",userId:e,productName:"솔트웨어하우스 확장 펀드",investedAmount:25e5,currentValue:245e4,returnRate:-2,status:"active",investmentDate:new Date("2024-03-01"),expectedReturnDate:new Date("2026-03-01"),progress:50,payoutHistory:[]},{id:"inv003",userId:e,productName:"염전 현대화 프로젝트",investedAmount:5e5,currentValue:58e4,returnRate:16,status:"completed",investmentDate:new Date("2023-05-10"),expectedReturnDate:new Date("2024-05-10"),payoutHistory:[{amount:2e4,date:new Date("2023-08-10")},{amount:2e4,date:new Date("2023-11-10")},{amount:2e4,date:new Date("2024-02-10")},{amount:52e4,date:new Date("2024-05-10")}]},{id:"inv004",userId:e,productName:"친환경 소금 생산 설비",investedAmount:15e5,currentValue:15e5,returnRate:0,status:"pending",investmentDate:new Date("2025-01-01"),expectedReturnDate:null,progress:0,payoutHistory:[]}],r=async()=>{a.value=!0,n.value=null;try{const a=await new Promise(e=>{const t=(0,U.hg)(J.j2,a=>{t(),e(a)})});if(!a)return void e.push("/login");const s=(0,$.rJ)(J.db,"investments"),n=(0,$.P)(s,(0,$._M)("investorUID","==",a.uid)),r=await(0,$.GG)(n),o=[];r.forEach(e=>{o.push({id:e.id,...e.data()})}),t.value=o,0===o.length&&(t.value=l(a.uid))}catch(s){console.error("투자 정보를 불러오는 데 실패했습니다:",s),n.value=s.message||"알 수 없는 오류가 발생했습니다."}finally{a.value=!1}},o=(0,s.EW)(()=>t.value.reduce((e,t)=>e+t.investedAmount,0)),u=(0,s.EW)(()=>t.value.reduce((e,t)=>e+t.currentValue,0)),i=(0,s.EW)(()=>0===o.value?0:(u.value-o.value)/o.value*100),c=(0,s.EW)(()=>u.value-o.value),v=(0,s.EW)(()=>i.value>0?"positive":i.value<0?"negative":""),d=e=>{switch(e){case"active":return"진행 중";case"completed":return"완료됨";case"pending":return"승인 대기 중";case"cancelled":return"취소됨";default:return"알 수 없음"}},p=e=>e>0?"positive":e<0?"negative":"",m=e=>e?e.toDate?e.toDate().toLocaleDateString("ko-KR"):e instanceof Date?e.toLocaleDateString("ko-KR"):String(e):"";return(0,s.sV)(()=>{r()}),{investments:t,loading:a,error:n,totalInvested:o,totalCurrentValue:u,overallReturnRate:i,overallReturnRateClass:v,totalExpectedProfit:c,getStatusText:d,getReturnRateClass:p,formatDate:m,fetchInvestments:r}}},z=a(1241);const B=(0,z.A)(q,[["render",G],["__scopeId","data-v-7c67531a"]]);var O=B}}]);
//# sourceMappingURL=869.9d17c29f.js.map
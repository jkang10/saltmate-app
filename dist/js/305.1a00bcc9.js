"use strict";(self["webpackChunksaltmate_app"]=self["webpackChunksaltmate_app"]||[]).push([[305],{305:function(e,a,l){l.r(a),l.d(a,{default:function(){return C}});var o=l(6768),s=l(5130),r=l(4232);const t={class:"login-page"},n={class:"login-container"},u={class:"form-group"},i={class:"form-group"},d=["disabled"],p={key:0},c={key:1},m={key:0,class:"error-message"},g={class:"links"};function v(e,a,l,v,h,k){const b=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",t,[(0,o.Lk)("div",n,[a[8]||(a[8]=(0,o.Lk)("h2",null,"솔트메이트 로그인",-1)),(0,o.Lk)("form",{onSubmit:a[2]||(a[2]=(0,s.D$)((...e)=>v.handleLogin&&v.handleLogin(...e),["prevent"]))},[(0,o.Lk)("div",u,[a[3]||(a[3]=(0,o.Lk)("label",{for:"email"},"이메일",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>v.email=e),placeholder:"이메일 주소 입력",required:"",autocomplete:"email"},null,512),[[s.Jo,v.email]])]),(0,o.Lk)("div",i,[a[4]||(a[4]=(0,o.Lk)("label",{for:"password"},"비밀번호",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>v.password=e),placeholder:"비밀번호",required:"",autocomplete:"current-password"},null,512),[[s.Jo,v.password]])]),(0,o.Lk)("button",{type:"submit",disabled:v.loading,class:"login-button"},[v.loading?((0,o.uX)(),(0,o.CE)("span",p,"로그인 중...")):((0,o.uX)(),(0,o.CE)("span",c,"로그인"))],8,d)],32),v.error?((0,o.uX)(),(0,o.CE)("p",m,(0,r.v_)(v.error),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",g,[(0,o.Lk)("p",null,[a[6]||(a[6]=(0,o.eW)(" 계정이 없으신가요? ",-1)),(0,o.bF)(b,{to:"/signup"},{default:(0,o.k6)(()=>a[5]||(a[5]=[(0,o.eW)("회원가입",-1)])),_:1,__:[5]})]),(0,o.Lk)("p",null,[(0,o.bF)(b,{to:"/reset-password"},{default:(0,o.k6)(()=>a[7]||(a[7]=[(0,o.eW)("비밀번호 찾기",-1)])),_:1,__:[7]})])])])])}l(4114);var h=l(144),k=l(1387),b=l(5328),w=l(4388),f=l(2832),L={name:"LoginPage",setup(){const e=(0,k.rd)(),a=(0,h.KR)(""),l=(0,h.KR)(""),o=(0,h.KR)(!1),s=(0,h.KR)(null),r=async()=>{o.value=!0,s.value=null;try{await(0,w.x9)(b.j2,a.value,l.value),alert("로그인 성공!"),e.push("/dashboard")}catch(r){console.error("로그인 오류:",r.code,r.message),s.value=n(r.code)}finally{o.value=!1}},t=async()=>{o.value=!0,s.value=null;try{const a=new w.HF,l=await(0,w.df)(b.j2,a),o=l.user,s=(0,f.H9)(b.db,"users",o.uid),r=await(0,f.x7)(s);r.exists()?alert("Google 계정으로 로그인 성공!"):(await(0,f.BN)(s,{email:o.email,name:o.displayName||"",phone:"",accountNumber:"",investmentType:"individual",isApproved:!1,createdAt:f.Dc.now(),participationAmount:0,hasNFT:!1,saltmateLevel:"basic"}),alert("Google 계정으로 회원가입 성공! 관리자 승인 후 서비스 이용이 가능합니다.")),e.push("/dashboard")}catch(a){console.error("Google 로그인 오류:",a.code,a.message),s.value=n(a.code)}finally{o.value=!1}},n=e=>{switch(e){case"auth/invalid-email":return"유효하지 않은 이메일 주소입니다.";case"auth/user-not-found":return"등록되지 않은 이메일입니다.";case"auth/wrong-password":return"비밀번호가 올바르지 않습니다.";case"auth/too-many-requests":return"로그인 시도 횟수가 너무 많습니다. 잠시 후 다시 시도해 주세요.";case"auth/popup-closed-by-user":return"Google 로그인 팝업이 사용자에게 의해 닫혔습니다.";default:return"로그인 중 알 수 없는 오류가 발생했습니다. 다시 시도해주세요."}};return{email:a,password:l,loading:o,error:s,handleLogin:r,signInWithGoogle:t}}},y=l(1241);const _=(0,y.A)(L,[["render",v],["__scopeId","data-v-01436e5e"]]);var C=_}}]);
//# sourceMappingURL=305.1a00bcc9.js.map
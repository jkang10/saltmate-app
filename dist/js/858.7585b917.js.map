{"version":3,"file":"js/858.7585b917.js","mappings":"4RAeA,MAAMA,GAASC,EAAAA,EAAAA,M,OAGfC,EAAAA,EAAAA,IAAU,MACRC,EAAAA,EAAAA,IAAmBC,EAAAA,GAAMC,UAEvB,GAAIC,EAAM,CAER,MAAMC,GAAUC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,QAASH,EAAKI,KAChCC,QAAiBC,EAAAA,EAAAA,IAAOL,GAE9B,GAAII,EAASE,SAAU,CACrB,MAAMC,EAAcH,EAASI,OAEzBD,EAAYE,QACdhB,EAAOiB,QAAQ,0BAEfjB,EAAOiB,QAAQ,aAEnB,MAEEjB,EAAOiB,QAAQ,SAEnB,MAIEjB,EAAOiB,QAAQ,c,oBAzCnBC,EAAAA,EAAAA,IAGM,MAHNC,EAGMC,EAAA,KAAAA,EAAA,KAFJC,EAAAA,EAAAA,IAAmC,OAA9BC,MAAM,mBAAiB,UAC5BD,EAAAA,EAAAA,IAAuC,SAApC,oCAAgC,M,aCGvC,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://saltmate-app/./src/views/HomeView.vue","webpack://saltmate-app/./src/views/HomeView.vue?1da1"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <div class=\"loading-spinner\"></div>\n    <p>사용자 정보를 확인하고 있습니다. 잠시만 기다려주세요...</p>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { auth, db } from \"@/firebaseConfig\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { doc, getDoc } from \"firebase/firestore\";\n\n// script setup을 사용하면 더 간결하게 코드를 작성할 수 있습니다.\nconst router = useRouter();\n\n// 컴포넌트가 화면에 마운트되자마자 실행될 로직\nonMounted(() => {\n  onAuthStateChanged(auth, async (user) => {\n    // 1. 사용자가 로그인했는지 확인\n    if (user) {\n      // 2. Firestore에서 사용자 프로필 정보 가져오기\n      const userRef = doc(db, \"users\", user.uid);\n      const userSnap = await getDoc(userRef);\n\n      if (userSnap.exists()) {\n        const userProfile = userSnap.data();\n        // 3. 관리자인지 확인하고 리디렉션\n        if (userProfile.isAdmin) {\n          router.replace(\"/admin-dashboard/users\"); // 관리자 대시보드로 이동\n        } else {\n          router.replace(\"/dashboard\"); // 일반 사용자는 일반 대시보드로 이동\n        }\n      } else {\n        // 프로필이 없는 경우 (오류 상황)\n        router.replace(\"/login\");\n      }\n    } else {\n      // 4. 로그인하지 않은 사용자는 로그인 페이지로 이동\n      // (또는 현재처럼 깨진 화면 대신 다른 안내 페이지를 보여줄 수 있습니다)\n      // 여기서는 일단 로그인 페이지로 보내도록 처리합니다.\n      router.replace(\"/login\");\n    }\n  });\n});\n</script>\n\n<style scoped>\n.home-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n  text-align: center;\n  font-family: \"Noto Sans KR\", sans-serif; /* 폰트 직접 지정 */\n}\n\n.loading-spinner {\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  border-left-color: #007bff;\n  animation: spin 1s ease infinite;\n  margin-bottom: 20px;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\np {\n  font-size: 1.1em;\n  color: #555;\n}\n</style>\n","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=0f4907fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0f4907fe\"]])\n\nexport default __exports__"],"names":["router","useRouter","onMounted","onAuthStateChanged","auth","async","user","userRef","doc","db","uid","userSnap","getDoc","exists","userProfile","data","isAdmin","replace","_createElementBlock","_hoisted_1","_cache","_createElementVNode","class","__exports__"],"sourceRoot":""}